# 网络协议

## 前言 
在我们的生活中，信息传播扮演了一个非常厉害的角色，它让我们可以听见东西，看见东西，闻到东西。从古代的飞鸽传书、八百里加急以及现在的语音通话、视频通话。可以看到，从古至今，信息让我们的生活更加丰富，让彼此的距离可变得更近。古代的飞鸽传书，飞鸽帮我们传递了信息，八百里加急，传令兵帮我们传递了信息。那现在的语音通话和视频通话呢？

## 网络通信的前身
在了解网络通信之前，我们来了解一个机构`ARPA`,全称为(Advanced Research Project Agency),中文就是美国高级研究计划局。他有一个核心的机构就是`信息处理处(IPTO,Information Processing Techniques Office)`。1967年拉里.罗伯茨来到ARPA，担任信息处理处处长，并着手研究筹建`分布式网络`,不到一年，就提出阿帕网的构想，随着计划不断的完善和改进。罗伯茨在描绘图纸上陆续绘制了数以百计的网络连接设计图，使之结构日益成熟。1968年，罗伯茨提交研究报告《资源共享的计算机网络》，其中着力阐发的就是让“阿帕”的电脑达到互相连接，从而使大家分享彼此的研究成果。根据这份报告组建的国防部“高级研究计划网”，就是著名的“阿帕网”，拉里·罗伯茨也就成为“阿帕网之父”。1969年地，阿帕网正式投入运营。


## 什么是网络协议
看到一个比较简短的说法，我非常赞成这个说法，那就是网络协议就是计算机网络中进行数据交换而建立的规则、标准或约定的集合。事实上，在1969年建立阿帕网的时候，美国国防部就已经同时发布了一组计算机通信协议的军用标准，它包括了5个协议，我们习惯上以其中的TCP和IP两个协议作为这组协议的通称。这便成为了后来互联网发展的基础


## 计算机网络模型
1. OSI是一个开放性的通信系统互连参考模型，它是一个定义得非常好的协议规范。OSI模型有7层结构，每层都可以有几个子层。 OSI的7层从上到下分别是 7 应用层 6 表示层 5 会话层 4 传输层 3 网络层 2 数据链路层 1 物理层 ；其中高层（即7、6、5、4层）定义了应用程序的功能，下面3层（即3、2、1层）主要面向通过网络的端到端，点到点的数据流。
2. TCP/IP是一组用于实现网络互连的通信协议。Internet网络体系结构以TCP/IP为核心。基于TCP/IP的参考模型将协议分成四个层次，它们分别是：网络访问层、网际互联层（主机到主机）、传输层、和应用层。

## 两种网络模型对比

![](http://img.stallezhou.cn/blog/net_model.png)

接下来，我们主要来看目前我们普遍使用的TCP/IP协议

## TCP
> 传输控制协议（TCP，Transmission Control Protocol）是一种面向连接、可靠的、基于字节流的传输层通信协议，由 IETF 的 RFC 793 定义。
TCP的特点是:
* 基于流的设计
* 面向连接
* 丢包重传
* 保证数据顺序

## UDP
> Internet 协议集支持一个无连接的传输协议，该协议称为用户数据报协议（UDP，User Datagram Protocol）。UDP 为应用程序提供了一种无需建立连接>就可以发送封装的 IP 数据包的方法。RFC 768 描述了 UDP。
UDP的特点是:
* UDP 是非连接协议，也就是不会和终端建立连接
* UDP 包信息只有 8 个字节
* UDP 是面向报文的。既不拆分，也不合并，而是保留这些报文的边界
* UDP 可能丢包
* UDP 不保证数据顺序


## TCP与UDP的总结
1. TCP是面向连接的，UDP是无连接的，即发送数据前TCP需要建立连接，UDP不需要
2. TCP提供可靠的数据传输，通过使用流量控制、序号、确认和定时器，TCP确保正确的、按序的将数据从发送进程交付给接收进程;UDP是尽最大可能传送数据，但不保证可靠交付
3. UDP具有较好的实时性，传输快，工作效率比TCP高，适用于对高速传输和实时性比较高的通信或广播通信
4. 每一条 TCP 连接只能是点对点的；UDP 支持一对一、一对多、多对一和多对多的交互通信;
5. TCP 对系统资源要求较多，UDP 对系统资源要求较少。
